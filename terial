provider "kubectl" {
  #config_path = "~/.kube/config"  # Path to your kubeconfig file
  config_path    = "C:/Users/MmesomaOkaro/Downloads/K8S/Myapp/kubeconfig_file"
  config_context = "kind-mimi-kind-cluster"
}

resource "kubectl_manifest" "node-app_deployment" {
  yaml_body = <<YAML
apiVersion: apps/v1
kind: Deployment
metadata:
  name: node-app
  labels:
    app: node-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: node-app
  template:
    metadata:
      labels:
        app: node-app
    spec:
      containers:
      - name: mimi-test
        image: mimi0248/node-app:latest
        ports:
        - containerPort: 8080

YAML
}




